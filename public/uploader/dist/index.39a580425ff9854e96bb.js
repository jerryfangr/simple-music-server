(self.webpackChunk_03_163_music=self.webpackChunk_03_163_music||[]).push([[826],{9675:()=>{!function(e){var t,n,i,o,r,a,s='<svg><symbol id="icon-delete" viewBox="0 0 1024 1024"><path d="M896 196.923077H649.846154V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231h-118.153846c-43.323077 0-78.769231 35.446154-78.769231 78.769231v78.769231H128c-15.753846 0-29.538462 13.784615-29.538462 29.538461v59.076924c0 15.753846 13.784615 29.538462 29.538462 29.538461h768c15.753846 0 29.538462-13.784615 29.538462-29.538461v-59.076924c0-15.753846-13.784615-29.538462-29.538462-29.538461zM452.923077 137.846154c0-11.815385 7.876923-19.692308 19.692308-19.692308h78.76923c11.815385 0 19.692308 7.876923 19.692308 19.692308v59.076923h-118.153846V137.846154z m364.307692 256h-610.461538c-15.753846 0-29.538462 13.784615-29.538462 29.538461V886.153846c0 55.138462 43.323077 98.461538 98.461539 98.461539h472.615384c55.138462 0 98.461538-43.323077 98.461539-98.461539V423.384615c0-15.753846-13.784615-29.538462-29.538462-29.538461zM452.923077 827.076923c0 11.815385-7.876923 19.692308-19.692308 19.692308h-39.384615c-11.815385 0-19.692308-7.876923-19.692308-19.692308V551.384615c0-11.815385 7.876923-19.692308 19.692308-19.692307h39.384615c11.815385 0 19.692308 7.876923 19.692308 19.692307v275.692308z m196.923077 0c0 11.815385-7.876923 19.692308-19.692308 19.692308h-39.384615c-11.815385 0-19.692308-7.876923-19.692308-19.692308V551.384615c0-11.815385 7.876923-19.692308 19.692308-19.692307h39.384615c11.815385 0 19.692308 7.876923 19.692308 19.692307v275.692308z"  ></path></symbol><symbol id="icon-download" viewBox="0 0 1024 1024"><path d="M767.999878 768.000122q0-14.847993-10.825138-25.746273t-25.746273-10.825138-25.746273 10.825138-10.825138 25.746273 10.825138 25.746273 25.746273 10.825138 25.746273-10.825138 10.825138-25.746273zM914.285523 768.000122q0-14.847993-10.825138-25.746273t-25.746273-10.825138-25.746273 10.825138-10.825138 25.746273 10.825138 25.746273 25.746273 10.825138 25.746273-10.825138 10.825138-25.746273zM987.428345 640.000183l0 182.857056q0 22.820561-16.018278 38.838839t-38.838839 16.018278l-841.142457 0q-22.820561 0-38.838839-16.018278t-16.018278-38.838839l0-182.857056q0-22.820561 16.018278-38.838839t38.838839-16.018278l265.727873 0 77.165678 77.677677q33.133699 32.036556 77.677677 32.036556t77.677677-32.036556l77.677677-77.677677 265.142731 0q22.820561 0 38.838839 16.018278t16.018278 38.838839zM801.718719 314.880338q9.727995 23.405703-7.972568 40.009124l-255.999878 255.999878q-10.313138 10.825138-25.746273 10.825138t-25.746273-10.825138l-255.999878-255.999878q-17.700563-16.603421-7.972568-40.009124 9.727995-22.308561 33.718841-22.308561l146.285645 0 0-255.999878q0-14.847993 10.825138-25.746273t25.746273-10.825138l146.285645 0q14.847993 0 25.746273 10.825138t10.825138 25.746273l0 255.999878 146.285645 0q23.990846 0 33.718841 22.308561z"  ></path></symbol><symbol id="icon-edit" viewBox="0 0 1024 1024"><path d="M652.4 156.6125a112.5 112.5 0 1 1 155.925 161.15625L731.375 394.71875 572.3 235.5875l79.5375-79.5375 0.5625 0.5625zM333.63125 792.40625v0.1125H174.5v-159.1875l358.03125-357.975 159.075 159.13125-357.975 357.91875zM62 849.5h900v112.5H62v-112.5z"  ></path></symbol><symbol id="icon-form" viewBox="0 0 1024 1024"><path d="M671.891093 190.746449c-8.147967 0-14.993856-2.556225-20.545657-7.668674a68.602683 68.602683 0 0 1-13.883496-17.86960901 92.056045 92.056045 0 0 1-8.323707-20.93707899c-1.853263-7.149441-2.77989401-13.10863999-2.77989499-17.87759701V0.755041h2.22072099c6.662161 0 12.956864 0.678997 18.876122 2.04498 5.92724601 1.35799399 13.140593 4.593216 21.65601699 9.697678 8.51542399 5.11245001 18.87612199 12.261891 31.09008402 21.456312 12.22195001 9.186433 27.583263 21.280571 46.09192899 36.26643899 19.986483 16.33587401 35.89898199 30.123512 47.745486 41.362912 11.846504 11.231413 20.91311399 20.76932601 27.20781699 28.59776501 6.286715 7.82843799 10.17697001 14.474623 11.662776 19.922577 1.477817 5.44795399 2.212732 10.208923 2.212732 14.298883v16.343862H671.891093zM1017.23706199 671.843932c2.22072 5.44795399 3.70652601 12.261891 4.44144102 20.43382199 0.742903 8.171931-2.955635 16.00036999-11.10360201 23.48531501-3.69853801 3.41096202-7.02961801 6.646184-9.985253 9.705666-2.971611 3.06747001-5.559789 5.623695-7.780509 7.668674a53.441075 53.441075 0 0 1-7.77252101 6.126952l-94.3886-85.80128299a354.125004 354.125004 0 0 0 14.993856-12.26189101 247.857947 247.857947 0 0 1 13.87550701-11.23141299c8.882881-7.49293399 18.508665-10.728156 28.877352-9.70566601 10.360699 1.02248999 18.87612199 3.23522199 25.53828401 6.630208 7.405064 3.41096202 15.361313 9.37016201 23.87673698 17.88558599 8.507436 8.507436 14.985868 17.534104 19.427308 27.06403001zM625.25596601 766.839636c16.279957 0 29.971736-4.081971 41.08332599-12.253903l-215.433833 206.33527H144.42209401c-14.06722501 0-29.42853799-3.754455-46.091928-11.23940099a196.102383 196.102383 0 0 1-46.63512601-29.62824301 170.731852 170.731852 0 0 1-36.090699-42.385402c-9.617796-16.00036999-14.43468199-32.511984-14.434682-49.542832V132.520441c0-14.29888201 3.514809-29.27676201 10.54442701-44.94162699A147.062808 147.062808 0 0 1 40.599427 45.185423a174.12683799 174.12683799 0 0 1 41.64249899-31.665234C97.77898 5.012753 114.066925 0.755041 131.105761 0.755041h425.2919v127.68342899c0 12.940888 2.22072 26.89627799 6.66216098 41.87415701a133.43493401 133.43493401 0 0 0 20.54565701 41.370901c9.258327 12.597395 21.28856 23.149811 36.090699 31.66523399 14.802139 8.51542399 32.57588999 12.765148 53.30527501 12.765148h162.12056899v338.10067001L682.99469401 739.264361c8.147967-10.895908 12.21396199-22.81430599 12.21396199-35.75519502 0-17.701857-6.84588999-32.855477-20.545657-45.45287199-13.691779-12.597395-30.163453-18.900087-49.41502099-18.90008699H208.830971c-19.24358 0-35.531525 6.302692-48.855846 18.90008699-13.32432201 12.597395-19.986483 27.75101501-19.98648301 45.45287199 0 17.709845 6.662161 32.687725 19.98648301 44.94162801 13.32432201 12.261891 29.612267 18.38884199 48.863834 18.38884201h416.424996zM208.830971 383.79733799c-19.251568 0-35.539513 6.302692-48.86383501 18.90008701-13.32432201 12.597395-19.986483 27.743027-19.98648201 45.45287299 0 17.701857 6.662161 32.687725 19.98648201 44.94162701 13.32432201 12.253903 29.612267 18.38884199 48.86383501 18.388842h416.42499499c19.24358 0 35.707265-6.13494 49.40703301-18.388842 13.699767-12.253903 20.545657-27.23976999 20.545657-44.94162701 0-17.709845-6.84588999-32.855477-20.545657-45.45287299-13.691779-12.597395-30.163453-18.900087-49.41502099-18.90008701H208.830971z m418.637728 511.748216l14.434681-13.28438099 27.766992-25.53029501a3832.34014198 3832.34014198 0 0 0 36.641885-34.22145899 4000.148311 4000.148311 0 0 1 39.97296499-37.28094101c31.832987-29.28475001 67.739957-61.972475 107.72091101-98.06317399l93.27824 85.801283-107.72091 99.085664-39.972966 36.769696-36.641884 33.710214a1433.56281801 1433.56281801 0 0 0-26.097458 24.50780501c-7.02961801 6.813937-10.919873 10.560404-11.662775 11.23940099-3.69853801 2.723977-7.772521 5.61570601-12.21396201 8.683176-4.441441 3.05948199-8.882881 5.61570601-13.32432199 7.660686-4.441441 2.04498-11.28733001 4.593216-20.545657 7.660687a667.014907 667.014907 0 0 1-28.31817701 8.683176 576.748219 576.748219 0 0 1-27.759004 7.149441c-8.882881 2.04498-15.54504202 3.40297399-19.98648299 4.081971-8.882881 1.35799399-14.810127 0.343493-17.765762-3.059481-2.96362301-3.40297399-3.70652601-9.194421-2.22072-17.366352 0.734915-4.081971 2.22072-10.216911 4.44144-18.388842 2.22072-8.171931 4.80889801-16.511615 7.77252099-25.01905099l8.32370702-24.004548c2.59616601-7.49293399 4.633157-12.597395 6.11097499-15.321372a81.136173 81.136173 0 0 1 17.765763-23.49330402z"  ></path></symbol><symbol id="icon-done" viewBox="0 0 1024 1024"><path d="M790.4 303.99999969c-35.20000031-134.4-153.6-223.99999969-294.40000031-223.99999969C329.6 80 192.00000031 217.59999969 192.00000031 384.00000031v15.99999938c-89.59999969 6.40000031-160.00000031 83.20000031-160.00000031 176.00000062 0 96 79.99999969 175.99999969 175.99999969 175.99999969h32.00000062c9.6 0 16.00000031-6.40000031 15.99999938-16.00000031 0-131.20000031 108.79999969-240 240-240S735.99999969 604.80000031 735.99999969 735.99999969c0 9.6 6.40000031 16.00000031 16.00000031 16.00000031h16.00000031c124.8 0 223.99999969-99.19999969 223.99999969-223.99999969 0-115.2-86.4-211.2-201.6-224.00000062z"  ></path><path d="M495.99999969 528.00000031C380.79999969 528.00000031 288.00000031 620.79999969 288.00000031 735.99999969s92.80000031 208.00000031 207.99999938 208.00000031S704 851.19999969 704 735.99999969s-92.80000031-208.00000031-208.00000031-207.99999938z m108.80000062 156.79999969l-160.00000031 160.00000031c-3.19999969 3.19999969-6.40000031 3.19999969-12.79999969 3.19999969s-9.6 0-12.80000062-3.19999969l-63.99999938-64.00000031c-6.40000031-6.40000031-6.40000031-16.00000031 0-22.39999969s16.00000031-6.40000031 22.39999969 0l51.19999969 51.19999969 147.20000062-147.19999969c6.40000031-6.40000031 16.00000031-6.40000031 22.39999969 0s9.6 16.00000031 6.40000031 22.39999969z"  ></path></symbol><symbol id="icon-copy" viewBox="0 0 1024 1024"><path d="M803.27111111 366.36444445h-145.63555556V204.70897778A130.10109667 130.10109667 0 0 0 528.01991111 75.09333333H204.70897778A130.10109667 130.10109667 0 0 0 75.09333333 204.70897778v323.31093333A130.10109667 130.10109667 0 0 0 204.70897778 657.63555555H366.36444445v145.63555556a145.63555555 145.63555555 0 0 0 145.63555555 145.63555556h291.27111111a145.63555555 145.63555555 0 0 0 145.63555556-145.63555556v-291.27111111a145.63555555 145.63555555 0 0 0-145.63555556-145.63555555z m-436.90666666 145.63555555v48.54518557H204.70897778a32.52527445 32.52527445 0 0 1-32.52527445-32.52527446V204.70897778A32.52527445 32.52527445 0 0 1 204.70897778 172.18370333h323.31093333a32.52527445 32.52527445 0 0 1 32.52527446 32.52527445V366.36444445h-48.54518557a145.63555555 145.63555555 0 0 0-145.63555555 145.63555555z"  ></path></symbol><symbol id="icon-file" viewBox="0 0 1024 1024"><path d="M824.58787344 234.23198575L677.13620381 86.78031612C661.31898066 70.96309297 639.87785615 62 617.55799678 62H258.85852402C212.28558857 62.17574697 174.5 99.96133555 174.5 146.53427099v731.10720499c0 46.57293457 37.78558857 84.35852403 84.35852403 84.35852402h506.15114238c46.57293457 0 84.35852403-37.78558857 84.35852314-84.35852402V293.98594063c0-22.31985938-8.96309297-43.93673086-24.78031611-59.75395489zM758.15553623 287.13181045H624.41212695V153.38840029l133.74340928 133.74341016zM258.85852402 877.64147598V146.53427099h281.19507891v182.77680148c0 23.37434121 18.8049208 42.17926201 42.17926201 42.17926112h182.77680147v506.15114238H258.85852402z"  ></path></symbol><symbol id="icon-music" viewBox="0 0 1024 1024"><path d="M341.333333 810.666667a42.666667 42.666667 0 0 1-42.666666-42.666667V213.333333a42.666667 42.666667 0 0 1 35.84-42.666666l512-85.333334a42.666667 42.666667 0 0 1 34.56 9.813334A42.666667 42.666667 0 0 1 896 128v554.666667a42.666667 42.666667 0 0 1-85.333333 0V178.346667L384 249.6V768a42.666667 42.666667 0 0 1-42.666667 42.666667z"  ></path><path d="M213.333333 938.666667a170.666667 170.666667 0 1 1 170.666667-170.666667 170.666667 170.666667 0 0 1-170.666667 170.666667z m0-256a85.333333 85.333333 0 1 0 85.333334 85.333333 85.333333 85.333333 0 0 0-85.333334-85.333333zM725.333333 853.333333a170.666667 170.666667 0 1 1 170.666667-170.666666 170.666667 170.666667 0 0 1-170.666667 170.666666z m0-256a85.333333 85.333333 0 1 0 85.333334 85.333334 85.333333 85.333333 0 0 0-85.333334-85.333334z"  ></path></symbol><symbol id="icon-upload" viewBox="0 0 1024 1024"><path d="M803.786667 414.4a5.333333 5.333333 0 0 1-4.106667-4.053333 304 304 0 0 0-600.746667 50.666666 5.333333 5.333333 0 0 1-4.16 4.96A196.16 196.16 0 0 0 42.666667 660.426667C44.426667 768 134.986667 853.333333 242.666667 853.333333h92.373333a5.333333 5.333333 0 0 0 5.333333-5.333333v-64a5.333333 5.333333 0 0 0-5.333333-5.333333H241.653333c-60.693333 0-114.026667-43.413333-122.986666-103.466667a121.866667 121.866667 0 0 1 95.253333-137.013333l53.333333-11.093334a5.333333 5.333333 0 0 0 4.266667-5.333333l1.706667-54.613333a229.333333 229.333333 0 0 1 453.866666-38.773334L736.533333 474.666667a5.333333 5.333333 0 0 0 4.266667 4.213333l45.973333 8.533333a147.04 147.04 0 0 1-26.08 291.253334H554.666667a5.333333 5.333333 0 0 1-5.333334-5.333334v-182.293333a5.333333 5.333333 0 0 1 9.12-3.786667l48 48a5.333333 5.333333 0 0 0 7.52 0l45.28-45.226666a5.333333 5.333333 0 0 0 0-7.573334l-94.453333-94.4-49.013333-49.066666a5.333333 5.333333 0 0 0-7.573334 0l-49.013333 49.066666-94.293333 94.24a5.333333 5.333333 0 0 0 0 7.573334l45.28 45.226666a5.333333 5.333333 0 0 0 7.52 0l48-48a5.333333 5.333333 0 0 1 9.12 3.786667V848a5.333333 5.333333 0 0 0 5.333333 5.333333h279.626667a221.706667 221.706667 0 0 0 44.16-438.933333z"  ></path></symbol></svg>',c=(c=document.getElementsByTagName("script"))[c.length-1].getAttribute("data-injectcss");if(c&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}function l(){r||(r=!0,i())}t=function(){var e,t,n,i;(i=document.createElement("div")).innerHTML=s,s=null,(n=i.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",e=n,(t=document.body).firstChild?(i=e,(n=t.firstChild).parentNode.insertBefore(i,n)):t.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(i=t,o=e.document,r=!1,(a=function(){try{o.documentElement.doScroll("left")}catch(e){return void setTimeout(a,50)}l()})(),o.onreadystatechange=function(){"complete"==o.readyState&&(o.onreadystatechange=null,l())})}(window)},8703:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(9675),n(8304),n(489),n(2419),n(2526),n(1817),n(1539),n(2165),n(8783),n(6992),n(3948);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,this.model=n,this.beforeBind(),this.bindEvents()}var t,n;return t=e,(n=[{key:"beforeBind",value:function(){}},{key:"bindEvents",value:function(){}},{key:"listen",value:function(e,t,n,i,o){this.bindEvent(e,n,(function(n){for(var o=n.target;!o.matches(t);){if(o===e){o=null;break}o=o.parentNode}o&&i.call(o,n,o)}),o)}},{key:"bindEvent",value:function(e,t,n,i){i=i||{},e&&e.addEventListener(t,(function(e){n.call(e.target,e)}),i)}},{key:"preventDefault",value:function(e,t,n){e.addEventListener(t,(function(e){e.preventDefault(),n&&e.stopPropagation()}))}},{key:"debunceFunction",value:function(e,t){var n=this,i=void 0;return t=t||50,function(){var o=arguments;clearTimeout(i),i=setTimeout((function(){e.apply(n,o)}),t)}}}])&&i(t.prototype,n),e}(),r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(4723),n(4916),n(4747),n(3210),n(5306);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$data={},this.domElement=this.qs(t.el),this.template=t.template||"",this.beforeRender(),this.render()}var t,n;return t=e,(n=[{key:"beforeRender",value:function(){}},{key:"setAttr",value:function(e,t,n){var i=this;if(void 0!==i[e])throw new Error("Cannot redefine property key ".concat(e,"  "));Object.defineProperty(i.$data,e,{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){e!==t&&(t=e,n.call(i,e))}}),Object.defineProperty(i,e,{enumerable:!0,configurable:!1,get:function(){return i.$data[e]},set:function(t){i.$data[e]=t}})}},{key:"simpleSetAttr",value:function(e,t,n,i){var o=this;i=i||"textContent";var r=this.getUniquePropName();this.setAttr(e,t,(function(e){o[r]=o[r]||o.eqs(n),o[r][i]=e}))}},{key:"getUniquePropName",value:function(){var e="_uniqueDom-"+(new Date).getTime();return e+=Math.floor(1e4*Math.random()),void 0!==this[e+="end"]?this.getUniquePropName():e}},{key:"qs",value:function(e){return document.querySelector(e)}},{key:"qsa",value:function(e){return document.querySelectorAll(e)}},{key:"eqs",value:function(e,t){return(t=t||this.domElement||document).querySelector(e)}},{key:"eqsa",value:function(e,t){return(t=t||this.domElement||document).querySelectorAll(e)}},{key:"render",value:function(){this.domElement&&(this.domElement.innerHTML=this.renderTemplate())}},{key:"copyToClipboard",value:function(e){var t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},{key:"renderTemplate",value:function(){var e=this,t=this.template;return(t.match(/{{([\w ]+)}}/gi)||[]).forEach((function(n){var i=n.replace("{{","").replace("}}","").trim();t=t.replace(n,e[i]||"")})),t}}])&&a(t.prototype,n),e}();const c={events:{},on:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},off:function(e){void 0!==this.events[e]&&delete this.events[e]},emit:function(e,t){this.events[e]=this.events[e]||[],this.events[e].forEach((function(e){e.call(void 0,t)}))}};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){v(n,e);var t=h(n);function n(e){var i;return u(this,n),(i=t.call(this,e)).fileButtonDom=i.eqs(".file-button"),i.formButtonDom=i.eqs(".form-button"),i}return f(n,[{key:"activeButton",value:function(e){"form"==e?(this.fileButtonDom.classList.remove("active"),this.formButtonDom.classList.add("active")):(this.formButtonDom.classList.remove("active"),this.fileButtonDom.classList.add("active"))}}]),n}(s),g=function(e){v(n,e);var t=h(n);function n(){var e;return u(this,n),(e=t.call(this)).activeUploader="file",e}return n}(r);new(function(e){v(n,e);var t=h(n);function n(e,i){var o;return u(this,n),(o=t.call(this,e,i)).view.activeButton("file"),o}return f(n,[{key:"bindEvents",value:function(){var e=this;this.bindEvent(this.view.fileButtonDom,"click",(function(t){e.activeUploader("file")})),this.bindEvent(this.view.formButtonDom,"click",(function(t){e.activeUploader("form")}))}},{key:"activeUploader",value:function(e){this.model.activeUploader!==e&&(c.emit("switch-uploader",e),this.model.activeUploader=e,this.view.activeButton(e))}}]),n}(o))(new b({el:"body aside.section",template:'\n<div class="filter-wrapper"></div>\n\n<div class="button-wrapper">\n  <div class="btn file-button">\n    <svg class="icon" aria-hidden="true">\n      <use xlink:href="#icon-done"></use>\n    </svg>\n  </div>\n\n  <div class="btn form-button">\n    <svg class="icon" aria-hidden="true">\n      <use xlink:href="#icon-form"></use>\n    </svg>\n  </div>\n\n</div>\n'}),new g),n(6977),n(8309),n(3123);var w=n(9669),k=n.n(w),x="http://localhost:39999";const E={base:x,token:x+"/token",music:x+"/music",upload:x+"/file"};function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function B(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P={WAIT_SELECT:Symbol("select file"),NO_SELECTED:Symbol("nothing selected"),UPLOADING_FILE:Symbol("uploading file"),UPLOAD_FAILED:Symbol("upload failed"),UPLOAD_SUCCESS:Symbol("upload success")},C=function(e){_(n,e);var t=O(n);function n(e){var i;return D(this,n),(i=t.call(this,e)).state=P.WAIT_SELECT,i.uploadBoxDom=i.eqs("#uploadBox"),i.uploadProgressDom=i.eqs("#uploadProgress"),i.progressRight=i.eqs("#progressRight"),i.progressLeft=i.eqs("#progressLeft"),i.isUploadHalf=!1,i.uploaLinkDom=i.eqs("#uploaLink"),i.copyButtonDom=i.eqs("#copyButton"),i.backButtonDom=i.eqs("#backButton"),i}return B(n,[{key:"beforeRender",value:function(){this.simpleSetAttr("tips","Drag & Drop File here to upload","#uploadBox > .tip > .text"),this.simpleSetAttr("progressPercent","0.00%","#progressPercent"),this.simpleSetAttr("fileLink","https://www.example.com/xxx","#fileLink")}},{key:"copyLink",value:function(){this.copyToClipboard(this.fileLink)}},{key:"updateProgress",value:function(e){if((e=e>100?100:e)<=50){var t=180*(1-e/50);this.progressRight.style.transform="rotate(-".concat(t,"deg)")}else{this.isUploadHalf||(this.isUploadHalf=!0,this.progressRight.style.transform="rotate(0deg)");var n=180*(1-(e-50)/50);this.progressLeft.style.transform="rotate(-".concat(n,"deg)")}this.progressPercent=e.toFixed(2)+"%"}},{key:"updateState",value:function(e,t){switch(this.state=e,e){case P.WAIT_SELECT:this.tips="Drag & Drop File here to upload",this.uploadBoxDom.classList.remove("warning"),this.activeElement(this.uploadBoxDom);break;case P.NO_SELECTED:this.tips="There no file to upload",this.uploadBoxDom.classList.add("warning"),this.activeElement(this.uploadBoxDom);break;case P.UPLOADING_FILE:this.progressPercent="0.00%",this.isUploadHalf=!1,this.progressRight.style.transform="rotate(-180deg)",this.progressLeft.style.transform="rotate(-180deg)",this.activeElement(this.uploadProgressDom);break;case P.UPLOAD_SUCCESS:this.fileLink=t.url||"none",this.activeElement(this.uploaLinkDom);break;case P.UPLOAD_FAILED:return"upload failed!";default:return"unknow error!"}}},{key:"activeElement",value:function(e){this.deActiveAll(),e.classList.remove("deactive")}},{key:"deActiveAll",value:function(){this.uploadBoxDom.classList.add("deactive"),this.uploadProgressDom.classList.add("deactive"),this.uploaLinkDom.classList.add("deactive")}},{key:"createBrowse",value:function(e){var t=document.createElement("div");t.setAttribute("style","width:0; height:0; overflow: hidden;");var n=document.createElement("input");return n.setAttribute("type","file"),n.addEventListener("change",(function(t){e(t,n,n.files)})),t.appendChild(n),document.body.appendChild(t),n}},{key:"toggle",value:function(e){e?this.domElement.classList.add("active"):this.domElement.classList.remove("active")}}]),n}(s),q=function(e){_(n,e);var t=O(n);function n(){var e;return D(this,n),(e=t.call(this)).token=void 0,e.timer=void 0,e.axios=k().create({timeout:6e5}),e.update(),e}return B(n,[{key:"update",value:function(){var e=this;this.updateToken(),clearInterval(this.timer),this.timer=setInterval((function(){e.updateToken()}),6e4)}},{key:"updateToken",value:function(){var e=this;return this.axios.get(E.token).then((function(t){var n=JSON.parse(t.request.responseText);e.token=n.result.token}))}},{key:"uploadFile",value:function(e,t){var n=new FormData;return n.append(e.name,e),this.axios.post(E.upload,n,{headers:{"Content-Type":"multipart/form-data"},params:{token:this.token},onUploadProgress:function(e){var n=e.loaded/e.total*100;t(n)}})}}]),n}(r);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function U(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}new(function(e){_(n,e);var t=O(n);function n(e,i){var o;return D(this,n),(o=t.call(this,e,i)).stopDefault(),o}return B(n,[{key:"beforeBind",value:function(){this.file=null}},{key:"bindEvents",value:function(){var e=this;this.stopDefault(),this.bindEvent(document,"webkitvisibilitychange",(function(){e.model.update()})),this.bindEvent(this.view.uploadBoxDom,"drop",(function(t){var n=t.dataTransfer.files;e.selectFiles(n)&&e.uploadFile()})),this.bindEvent(this.view.uploadBoxDom,"click",(function(t){if(e.view.state!==P.UPLOADING_FILE)return-1!==[P.WAIT_SELECT,P.NO_SELECTED].indexOf(e.view.state)?(e.view.inputDom=e.view.inputDom||e.view.createBrowse((function(){e.selectFiles(e.view.inputDom.files)&&e.uploadFile()})),e.view.inputDom.click()):void 0})),this.bindEvent(this.view.copyButtonDom,"click",(function(t){e.view.copyLink()})),this.bindEvent(this.view.backButtonDom,"click",(function(t){e.view.updateState(P.WAIT_SELECT)})),c.on("switch-uploader",(function(t){e.view.toggle("file"===t)}))}},{key:"uploadFile",value:function(){var e=this;return this.view.updateState(P.UPLOADING_FILE),this.model.uploadFile(this.file,(function(t){e.view.updateProgress(t)})).then((function(t){var n=JSON.parse(t.request.responseText).result;n.url=E.base+n.url,e.view.updateState(P.UPLOAD_SUCCESS,n),e.file=null}),(function(t){console.log(t.response),e.view.updateState(P.UPLOAD_FAILED)}))}},{key:"stopDefault",value:function(){this.preventDefault(document,"drop"),this.preventDefault(document,"dragleave"),this.preventDefault(document,"dragenter"),this.preventDefault(document,"dragover")}},{key:"selectFiles",value:function(e){if(!e||0==e.length)return null;var t=e[0];return t.fileType=this.getFileType(t.name),this.file=t}},{key:"getFileType",value:function(e){var t=e.split(".");return t.length<=1?"none":t[t.length-1]}}]),n}(o))(new C({el:"#fileUploader",template:'\n  <div class="title">Your Music Storage</div>\n\n  <div class="container">\n    \x3c!-- music icon start --\x3e\n    <div class="block music">\n      <div class="shadow-wrapper">\n        <div class="icon-wrapper">\n          <svg class="icon" aria-hidden="true">\n            <use xlink:href="#icon-music"></use>\n          </svg>\n        </div>\n      </div>\n    </div>\n    \x3c!-- music icon end --\x3e\n\n    \x3c!-- uploader area start --\x3e\n    <div id="uploadArea" class="upload-area">\n\n      \x3c!-- uploader box start --\x3e\n      <div id="uploadBox" class="uploader-box">\n        <div class="tip">\n          <p class="text">{{ tips }}</p>\n          <p>Click to Browse File</p>\n        </div>\n      </div>\n      \x3c!-- uploader box end --\x3e\n\n      \x3c!-- upload progress start --\x3e\n      <div id="uploadProgress" class="upload-progress deactive">\n        \x3c!--  circle progresss bar start  --\x3e\n        <div class="bar-wrapper right">\n          <div id="progressRight" class="bar active"></div>\n        </div>\n\n        <div class="bar-wrapper left">\n          <div id="progressLeft" class="bar"></div>\n        </div>\n        \x3c!--  circle process bar end  --\x3e\n\n        \x3c!--  center circle(process value) start  --\x3e\n        <div class="circle-content">\n          <div id="progressPercent" class="text">{{ progressPercent }}</div>\n        </div>\n        \x3c!--  center circle(progresss value) end  --\x3e\n\n      </div>\n      \x3c!-- upload progress end --\x3e\n\n      \x3c!-- upload link start --\x3e\n      <div id="uploaLink" class="upload-link deactive">\n        \x3c!--  upload status icon start  --\x3e\n        <div class="upload-status">\n          <div class="circle-wrapper">\n            <svg class="icon" aria-hidden="true">\n              <use xlink:href="#icon-done"></use>\n            </svg>\n          </div>\n          <div class="tips">Done!</div>\n        </div>\n        \x3c!--  upload status icon end  --\x3e\n        \n        \x3c!-- separate line start  --\x3e\n        <div class="separate-line"></div>\n        \x3c!-- separate line end  --\x3e\n\n        \x3c!-- link content start  --\x3e\n        <div class="link-content">\n          <div class="link-text">\n            link:\n            <p id="fileLink" class="text">{{ fileLink }}</p>\n          </div>\n\n          <div class="operate-button">\n            <div id="backButton" class="back-button">\n              < Back\n            </div>\n\n            <div id="copyButton" class="copy-button">\n              <svg class="icon" aria-hidden="true">\n                <use xlink:href="#icon-copy"></use>\n              </svg>\n              Copy\n            </div>\n          </div>\n        </div>\n        \x3c!-- link content end  --\x3e\n\n      </div>\n      \x3c!-- upload link end --\x3e\n\n    </div>\n    \x3c!-- uploader area end --\x3e\n\n    \x3c!-- upload icon start --\x3e\n    <div class="block upload">\n      <div class="wrapper">\n        <div class="circle-bar"></div>\n        <div class="icon-wrapper">\n          <svg class="icon" aria-hidden="true">\n            <use xlink:href="#icon-upload"></use>\n          </svg>\n        </div>\n      </div>\n    </div>\n    \x3c!-- upload icon end --\x3e\n\n  </div>\n'}),new q),n(2222),n(561);var J=function(e){j(n,e);var t=H(n);function n(e){var i;return M(this,n),(i=t.call(this,e)).status="list",i.formListDom=i.eqs("#formList"),i.songFormDom=i.eqs("#songForm"),i.formSwitchDom=i.eqs("#formSwitch"),i.nameFilterDom=i.eqs("#nameFilter"),i}return U(n,[{key:"beforeRender",value:function(){var e=this;this.simpleSetAttr("switchTitle","Form list","#switchTitle"),this.simpleSetAttr("switchButton","< Create","#switchButton"),this.simpleSetAttr("name","",'#songForm > input[name="name"]',"value"),this.simpleSetAttr("singer","",'#songForm > input[name="singer"]',"value"),this.simpleSetAttr("cover","",'#songForm > input[name="cover"]',"value"),this.simpleSetAttr("url","",'#songForm > input[name="url"]',"value"),this.simpleSetAttr("lyric","",'#songForm > textarea[name="lyric"]'),this.setAttr("formList",[],(function(t){e.formListDom.innerHTML="",t.forEach((function(t,n){t.index=n;var i=e.createFormItem(t);e.formListDom.appendChild(i)}))}))}},{key:"createFormItem",value:function(e){var t='      \n    <div class="cover">\n      <img class="image" src="'.concat(e.cover||"#",'" >\n    </div>\n\n    <div class="info">\n      <div class="name">').concat(e.name||"unknow",'</div>\n      <div class="author">').concat(e.singer||"unknow",'</div>\n    </div>\n\n    <div class="operate">\n      <a class="btn download" href=').concat(e.url||"#",'"" download>\n        <svg class="icon" aria-hidden="true">\n          <use xlink:href="#icon-download"></use>\n        </svg>\n      </a>\n      <div class="btn delete" data-index="').concat(e.index,'">\n        <svg class="icon" aria-hidden="true">\n          <use xlink:href="#icon-delete"></use>\n        </svg>\n      </div>\n      <div class="btn edit" data-index=').concat(e.index,'>\n        <svg class="icon" aria-hidden="true">\n          <use xlink:href="#icon-edit"></use>\n        </svg>\n      </div>\n    </div>\n    '),n=document.createElement("li");return n.className="form-item",n.innerHTML=t,n}},{key:"switchTo",value:function(e){e!==this.status&&(this.status=e,"list"===e?(this.formSwitchDom.classList.remove("left"),this.switchTitle="Form list",this.switchButton="< Create"):(this.formSwitchDom.classList.add("left"),this.switchTitle="Create form",this.switchButton="Back >"))}},{key:"getFormInput",value:function(){var e=new FormData(this.songFormDom);return{cover:e.get("cover")||"",name:e.get("name")||"",singer:e.get("singer")||"",url:e.get("url")||"",lyric:e.get("lyric")||""}}},{key:"setFormInput",value:function(e){this.name=e.name||"",this.cover=e.cover||"",this.singer=e.singer||"",this.url=e.url||"",this.lyric=e.lyric||""}},{key:"toggle",value:function(e){e?this.domElement.classList.add("active"):this.domElement.classList.remove("active")}}]),n}(s),W=function(e){j(n,e);var t=H(n);function n(){var e;return M(this,n),(e=t.call(this)).data=[],e.editItem={},e.token=void 0,e.timer=void 0,e.axios=k().create({timeout:6e5}),e.update(),e}return U(n,[{key:"update",value:function(){var e=this;this.updateToken(),clearInterval(this.timer),this.timer=setInterval((function(){e.updateToken()}),6e4)}},{key:"updateToken",value:function(){var e=this;return this.axios.get(E.token).then((function(t){var n=JSON.parse(t.request.responseText);e.token=n.result.token}))}},{key:"submitForm",value:function(e){var t=this;return this.axios.post(E.music,e,{params:{token:this.token}}).then((function(n){return"ok"===n.data.status&&t.data.push(e),n}))}},{key:"fetchAll",value:function(){var e=this;return this.axios.get(E.music,{params:{token:this.token}}).then((function(t){return"ok"===t.data.status?e.data=t.data.result:[]}))}},{key:"searchByName",value:function(e){var t=this,n=E.music+"/"+e;return this.axios.get(n,{params:{token:this.token}}).then((function(e){return"ok"===e.data.status?t.data=e.data.result:[]}))}},{key:"deleteByIndex",value:function(e){var t=this,n=this.data[e];if(void 0!==n){var i=E.music+"/"+n.id;return this.axios.delete(i,{params:{token:this.token}}).then((function(n){if("ok"===n.data.status)return t.data.splice(e,1),n;throw new Error(t.data.error)}))}}},{key:"updateForm",value:function(e){var t=E.music+"/"+e.id;return this.axios.put(t,e,{params:{token:this.token}})}}]),n}(r);new(function(e){j(n,e);var t=H(n);function n(e,i){var o;return M(this,n),(o=t.call(this,e,i)).status="create",o}return U(n,[{key:"bindEvents",value:function(){var e=this;this.bindEvent(document,"webkitvisibilitychange",(function(){e.model.update()})),c.on("switch-uploader",(function(t){e.view.toggle("form"===t)})),this.bindEvent(this.view.formSwitchDom,"click",(function(t){var n="list"===e.view.status?"create":"list";e.view.switchTo(n)})),this.bindEvent(this.view.nameFilterDom,"input",this.debunceFunction((function(t){var n,i=null===(n=t.target)||void 0===n?void 0:n.value;i&&e.model.searchByName(i).then((function(t){e.updateFormListView()})),""===i&&(e.view.formList=[])}),800)),this.listen(this.view.formListDom,".delete","click",(function(t,n){e.model.deleteByIndex(n.dataset.index).then((function(t){e.updateFormListView()}),(function(e){console.log(e)}))})),this.listen(this.view.formListDom,".edit","click",(function(t,n){e.status="edit";var i=n.dataset.index;if(void 0!==i){var o=e.model.data[i];e.model.editItem=o||{},e.view.setFormInput(o),e.view.switchTo("create")}})),this.bindEvent(this.view.songFormDom,"submit",(function(t){t.preventDefault(),t.stopPropagation();var n=e.view.getFormInput();"edit"===e.status?void 0!==e.model.editItem.id&&(n.id=e.model.editItem.id,e.model.editItem={},e.model.updateForm(n).then((function(){e.updateFormListView()}))):e.model.submitForm(n).then((function(){e.updateFormListView()}))}))}},{key:"updateFormListView",value:function(){this.view.formList=JSON.parse(JSON.stringify(this.model.data))}}]),n}(o))(new J({el:"#formUploader",template:'\n<div class="container">\n  \x3c!-- form list start --\x3e\n  <div class="form-container">\n    <div class="search">\n      <input type="text" id="nameFilter" name="search" placeholder="name filter">\n    </div>\n\n    <div id="formList" class="form-list"></div>\n  </div>\n  \x3c!-- form list end --\x3e\n\n  \x3c!-- form creator start--\x3e\n  <div class="form-creator">\n    <div class="title">Song</div>\n\n    <form id="songForm" class="form">\n      <input type="text" name="name" value="{{ name }}" placeholder="song name">\n      <input type="text" name="singer" value="{{ singer }}" placeholder="singer name">\n      <input type="text" name="cover" value="{{ cover }}" placeholder="cover url">\n      <input type="text" name="url" value="{{ url }}" placeholder="song url">\n      <textarea name="lyric"cols="40" rows="10" placeholder="song lyric">{{lyric}}</textarea>\n      <button class="submit-button" type="submit">save</button>\n    </form>\n  </div>\n  \x3c!-- form creator end--\x3e\n\n  \x3c!-- form switch start --\x3e\n  <div id="formSwitch" class="form-switch">\n    <div id="switchTitle" class="title">{{ switchTitle }}</div>\n    <div id="switchButton" class="button">{{ switchButton }}</div>\n  </div>\n  \x3c!-- form switch end --\x3e\n</div>\n'}),new W)}},0,[[8703,666,736]]]);